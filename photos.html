---
layout: page
title: Photos
subtitle: Gallery
---

{% if site.data.photos.size > 0 %}
<div class="photo-gallery" id="photoGallery">
  {% for photo in site.data.photos %}
  <figure class="photo-item" onclick="openLightbox({{ forloop.index0 }})">
    <img src="{{ photo.src }}" alt="{{ photo.alt }}" loading="lazy">
  </figure>
  {% endfor %}
</div>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
  <div class="lightbox-overlay" onclick="closeLightbox()"></div>
  <div class="lightbox-content">
    <button class="lightbox-close" onclick="closeLightbox()">&times;</button>
    <button class="lightbox-prev" onclick="showPrev()">&#8249;</button>
    <button class="lightbox-next" onclick="showNext()">&#8250;</button>
    <div class="lightbox-image-container">
      <img class="lightbox-image" id="lightboxImage" src="" alt="">
    </div>
    <div class="lightbox-counter" id="lightboxCounter"></div>
  </div>
</div>

<script>
var galleryImages = [
  {% for photo in site.data.photos %}
  "{{ photo.src }}"{% unless forloop.last %},{% endunless %}
  {% endfor %}
];
var currentIndex = 0;
var touchStartX = 0;

function openLightbox(index) {
  currentIndex = index;
  updateLightboxImage();
  document.getElementById('lightbox').classList.add('active');
  document.body.style.overflow = 'hidden';
}

function closeLightbox() {
  document.getElementById('lightbox').classList.remove('active');
  document.body.style.overflow = '';
}

function updateLightboxImage() {
  document.getElementById('lightboxImage').src = galleryImages[currentIndex];
  document.getElementById('lightboxCounter').textContent = (currentIndex + 1) + ' / ' + galleryImages.length;
}

function showPrev() {
  currentIndex = (currentIndex - 1 + galleryImages.length) % galleryImages.length;
  updateLightboxImage();
}

function showNext() {
  currentIndex = (currentIndex + 1) % galleryImages.length;
  updateLightboxImage();
}

document.addEventListener('keydown', function(e) {
  var lightbox = document.getElementById('lightbox');
  if (!lightbox.classList.contains('active')) return;
  if (e.key === 'Escape') closeLightbox();
  if (e.key === 'ArrowLeft') showPrev();
  if (e.key === 'ArrowRight') showNext();
});

// Touch swipe
document.querySelector('.lightbox-image-container').addEventListener('touchstart', function(e) {
  touchStartX = e.changedTouches[0].screenX;
}, {passive: true});

document.querySelector('.lightbox-image-container').addEventListener('touchend', function(e) {
  var diff = touchStartX - e.changedTouches[0].screenX;
  if (Math.abs(diff) > 50) {
    if (diff > 0) showNext();
    else showPrev();
  }
}, {passive: true});
</script>
{% else %}
<p class="no-content">Photos coming soon!</p>
{% endif %}
